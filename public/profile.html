<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="author"
      content="Carolina Alba García, Celtia Castelo Gajino, Guillermo Arcos Salgado, Ines Vilariño, Mario Seoane, Francisco"
    />
    <meta
      name="description"
      content="Melody Stream: listen to music; upload your own podcast; and chat and share your favourite songs with your friends"
    />
    <meta name="keywords" content="Melody Stream, music, podcast, friends" />
    <title>Melody Stream</title>

    <link rel="stylesheet" href="css/general.css" />
    <link rel="stylesheet" href="css/profile.css" />
    <link rel="icon" type="image/png" href="imagenes/logos/logo.png" />
  </head>
  <body>
    <header id="headerPrincipal">
      <figure>
        <img src="images/logos/logo.png" alt="Webpage logo" />
      </figure>
      <p id="menuToggle"><a href="#" class="hamburguesa"> &#x2630; </a></p>
      <nav id="NavPrincipal">
        <ul>
          <li><a href="index.html">HOME</a></li>
          <li><a href="test_register_spotify.html">MUSIC</a></li>
          <li><a href="podcast.html">PODCAST</a></li>
          <li><a href="login.html">LOG IN</a></li>
          <li><a href="users.html">USERS</a></li>
        </ul>
      </nav>

      <div id="headerProfileIm">
        <a href="profile.html">
          <img
            id="headerUserPic"
            src="images/logos/silueta.png"
            alt="User Profile Icon"
          />
        </a>
      </div>
    </header>

    <main>
      <h1>My profile</h1>

      <p id="msg">Loading...</p>
      <div class="perfil-foto-contenedor">
        <img
          id="fotoPerfilUsuario"
          src="images/logos/silueta.png"
          alt="Profile photo"
          width="200"
          height="150"
        />
      </div>

      <form
        id="uploadForm"
        action="/ruta-donde-procesas-la-subida"
        method="POST"
        enctype="multipart/form-data"
      >
        <h2>Upload your photo</h2>
        <label for="fotoArchivo">Select a file:</label>
        <input
          type="file"
          id="fotoArchivo"
          name="imagen_subida"
          accept="image/*"
          required
        />
        <button type="submit">Upload</button>
      </form>

      <!-- Datos del perfil -->
      <div id="userData"></div>

      <!-- Botón a chat -->
      <button id="goToChatBtn">Go to your Chats</button>

    <div id="folder-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:1000; align-items:center; justify-content:center;">
      <div style="background:#fff; max-width:1000px; width:95%; max-height:90vh; overflow:auto; border-radius:8px; padding:16px; position:relative;">
        <button id="folder-modal-close" style="position:absolute; right:12px; top:12px;">Cerrar</button>
        <h2 id="folder-modal-title">Podcasts de la carpeta</h2>

        <form id="folder-form">
          <!-- Aquí pueden ir inputs si quieres editar datos de la carpeta -->
          <div id="folder-podcast-list" class="podcast-list" style="display:flex; flex-direction:column; gap:12px; margin-top:12px;">
            <!-- Podcasts cargados dinámicamente -->
          </div>

          <div style="margin-top:16px; display:flex; gap:8px;">
            <button type="button" id="folder-form-close">Cerrar</button>
            <!-- Si quieres acciones del formulario añade aquí submit -->
          </div>
        </form>
      </div>
    </div>

    <section id="favArtistsSection" style="display: none;">
      <h2>Your favourite artists</h2>

      <input type="text" id="artistSearch" placeholder="Search artist...">
      <button id="btnSearchArtist">Search</button>

      <div id="artistResults"></div>

      <h3>Saved favourites</h3>
      <div id="savedArtists"></div>
    </section>

    <div id="shareArtistModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:2000; align-items:center; justify-content:center;">
      <div style="background:#fff; padding:20px; border-radius:12px; width:90%; max-width:500px;">
        <h3>Share this artist in a chat</h3>
        <p id="shareArtistName"></p>

        <select id="chatSelect" style="width:100%; padding:8px; margin-top:10px;"></select>

        <button id="shareArtistConfirm" style="width:100%; margin-top:15px;">Share</button>
        <button id="shareArtistCancel" style="width:100%; margin-top:10px;">Cancel</button>
      </div>
    </div>


    <section id="favSongsSection" style="display:none; margin-top: 2rem;">
      <h2>Your favourite songs</h2>

      <input type="text" id="songSearch" placeholder="Search song...">
      <button id="btnSearchSong">Search</button>

      <div id="songResults"></div>

      <h3>Saved songs</h3>
      <div id="savedSongs"></div>
    </section>

    <div id="shareSongModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:2000; align-items:center; justify-content:center;">
      <div style="background:#fff; padding:20px; border-radius:12px; width:90%; max-width:500px;">
        <h3>Share this song in a chat</h3>
        <p id="shareSongName"></p>

        <select id="chatSelect" style="width:100%; padding:8px; margin-top:10px;"></select>

        <button id="shareSongConfirm" style="width:100%; margin-top:15px;">Share</button>
        <button id="shareSongCancel" style="width:100%; margin-top:10px;">Cancel</button>
      </div>
    </div>

    </main>

    <footer id="footerPrincipal">
      <h2 id="footer-title">MELODY STREAM</h2>
      <div id="footer-follow">
        <p>FOLLOW US</p>
        <ul>
          <!-- Logo 1 (Spotify) -->
          <li>
            <figure>
              <a href="https://www.spotify.com" target="_blank">
                <img src="images/logos/Spotify.svg" alt="Spotify" />
              </a>
            </figure>
          </li>
          <!-- Logo 2 (Facebook) -->
          <li>
            <figure>
              <a href="https://www.facebook.com" target="_blank">
                <img src="images/logos/Facebook.svg" alt="Facebook" />
              </a>
            </figure>
          </li>
          <!-- Logo 3 (Instagram) -->
          <li>
            <figure>
              <a href="https://www.instagram.com" target="_blank">
                <img src="images/logos/Instagram.svg" alt="Instagram" />
              </a>
            </figure>
          </li>
          <!-- Logo 4 (Twitter) -->
          <li>
            <figure>
              <a href="https://www.twitter.com" target="_blank">
                <img src="images/logos/Twitter.svg" alt="Twitter" />
              </a>
            </figure>
          </li>
          <!-- Logo 5 (YouTube) -->
          <li>
            <figure>
              <a href="https://www.youtube.com" target="_blank">
                <img src="images/logos/Youtube.svg" alt="YouTube" />
              </a>
            </figure>
          </li>
        </ul>
      </div>
    </footer>

    <script type="module" src="js/profile.js"></script>
  </body>
</html>
